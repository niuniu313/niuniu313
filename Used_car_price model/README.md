# 🚗 二手车价格预测项目（二手车交易数据建模）

本项目基于德国二手车平台的爬虫数据，使用 **机器学习算法（随机森林和 XGBoost）** 构建价格预测模型，帮助用户判断车辆是否定价合理。

---

## 📊 项目背景

二手车市场数据杂乱、信息繁多。为了提供更准确的价格参考，我们从网络数据出发，进行了系统的数据清洗与特征工程，最终构建出性能优秀的机器学习模型。

---

## 🧹 数据清洗与特征构建流程

原始数据来自kaggle数据集，字段多、杂乱，包含大量空值、错误值和重复项。清洗步骤如下：

### ✅ 保留字段如下：
| 字段 | 说明 |
|------|------|
| `vehicleType` | 车辆类型，如 suv、limousine、kleinwagen 等 |
| `yearOfRegistration` | 注册年份，汽车首次注册年份 |
| `gearbox` | 变速箱类型（手动/自动） |
| `powerPS` | 发动机功率，单位为 PS（马力） |
| `model` | 车型编号（离散数值） |
| `kilometer` | 累积行驶公里数 |
| `monthOfRegistration` | 注册月份 |
| `fuelType` | 燃油类型（汽油/柴油等） |
| `brand` | 品牌名称，如 BMW、Volkswagen 等 |
| `notRepairedDamage` | 是否存在尚未修复的损坏（是/否） |
| `price` | 车辆标价（目标变量） |

### 🧼 清洗细节：
- 删除价格为 0 或极端异常值（如 > 100,000 欧元）的样本
- 去除注册年份过早（如 1800）或未来时间的数据
- 将分类变量（如 `fuelType`, `gearbox`, `vehicleType`）用 label encoding 编码
- 填补少量缺失值或删除缺失比例大的样本
- 将原始文本字段（如 `gearbox_raw`, `fuelType_raw`）保留用于调试，但不用于建模

---

## 🧠 使用模型

我们构建并对比了两个模型：

| 模型名称 | MAE（平均绝对误差） | RMSE（均方根误差） | R²（拟合优度） |
|----------|---------------------|---------------------|----------------|
| **随机森林** | 1186.24              | 2277.74              | 0.9198         |
| **XGBoost**   | 1207.40              | 2185.79              | 0.9261         |

### 🔍 结论：

- **XGBoost 的 RMSE 更低、R² 更高**，在整体拟合效果上略优于随机森林，说明其在处理非线性关系和异常值时更具优势。
- 随机森林的 **MAE 更低**，说明它在小误差样本上表现稍好。
- 综合推荐 **XGBoost** 作为最终模型。

---




